<footer class="fixed bottom-20 self-center w-full flex flex-row justify-around">
  <!-- Boton borrar -->
  <button id="eliminarJugador" class="bg-red-400 px-6 py-3 rounded"
    ><svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="icon icon-tabler icons-tabler-outline icon-tabler-trash"
      ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
        d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"
      ></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"
      ></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg
    >
  </button>
  <button id="agregarJugador" class="bg-green-400 px-6 py-3 rounded"
    ><svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="icon icon-tabler icons-tabler-outline icon-tabler-circle-plus"
      ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
        d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path><path d="M9 12h6"
      ></path><path d="M12 9v6"></path></svg
    >
  </button>
</footer>

<button
  id="guardar"
  class="fixed bottom-2 p-4 bg-green-800 font-bold text-1xl self-center"
>
  Guardar
</button>

<script>
  // Obtener el botón de agregar jugador y la tabla de jugadores
  const agregarJugadorButton = document.getElementById("agregarJugador")!;
  const eliminarJugadorButton = document.getElementById("eliminarJugador")!;
  const guardarJugadorButton = document.getElementById("guardar")!;
  const tablaJugadores = document.getElementById("tablaJugadores")!;

  // Función para agregar un nuevo jugador
  agregarJugadorButton.addEventListener("click", () => {
    // Crear una nueva fila para la tabla
    const nuevaFila = document.createElement("tr");

    // Crear las celdas para la fila
    const celdaAusente = document.createElement("td");
    const celdaPresente = document.createElement("td");
    const celdaNombre = document.createElement("td");
    const celdaApellido = document.createElement("td");

    // Asignar los inputs correspondientes a cada celda
    const inputAusente = document.createElement("input");
    inputAusente.type = "radio";
    inputAusente.name = "estado";
    inputAusente.value = "ausente";

    const inputPresente = document.createElement("input");
    inputPresente.type = "radio";
    inputPresente.name = "estado";
    inputPresente.value = "presente";
    inputPresente.checked = true;

    const inputNombre = document.createElement("input");
    inputNombre.type = "text";
    inputNombre.value = "Jugador";

    const inputApellido = document.createElement("input");
    inputApellido.type = "text";
    inputApellido.value = "Apellido";

    // Añadir las clases de Tailwind a cada celda
    celdaAusente.classList.add("celda");
    celdaPresente.classList.add("celda");
    celdaNombre.classList.add("celda");
    celdaApellido.classList.add("celda");

    // Añadir los inputs a las celdas
    celdaAusente.appendChild(inputAusente);
    celdaPresente.appendChild(inputPresente);
    celdaNombre.appendChild(inputNombre);
    celdaApellido.appendChild(inputApellido);

    // Añadir las celdas a la nueva fila
    nuevaFila.appendChild(celdaAusente);
    nuevaFila.appendChild(celdaPresente);
    nuevaFila.appendChild(celdaNombre);
    nuevaFila.appendChild(celdaApellido);

    // Añadir la nueva fila a la tabla
    tablaJugadores.appendChild(nuevaFila);
  });

  // Función para eliminar el último jugador
  eliminarJugadorButton.addEventListener("click", () => {
    // Verificar si hay filas en la tabla antes de intentar eliminar
    const filas = tablaJugadores.getElementsByTagName("tr");
    if (filas.length > 0) {
      // Eliminar la última fila
      tablaJugadores.deleteRow(filas.length - 1);
    }
  });

  // Función para guardar los jugadores en formato JSON
  guardarJugadorButton.addEventListener("click", () => {
    // Obtener todas las filas de la tabla
    const filas = tablaJugadores.getElementsByTagName("tr");

    // Array para almacenar los datos de los jugadores
    const jugadoresData = [];

    // Iterar sobre las filas y obtener los valores de los inputs de nombre y apellido
    for (let i = 0; i < filas.length; i++) {
      const celdas = filas[i].getElementsByTagName("td");
      const nombreInput = celdas[2].getElementsByTagName("input")[0]; // Celda de nombre
      const apellidoInput = celdas[3].getElementsByTagName("input")[0]; // Celda de apellido

      // Crear un objeto para el jugador y agregarlo al array
      jugadoresData.push({
        nombre: nombreInput.value,
        apellido: apellidoInput.value,
      });
    }

    // Mostrar los jugadores en formato JSON (puedes enviarlo a un servidor o guardarlo en localStorage)
    console.log(JSON.stringify(jugadoresData));
  });
</script>
